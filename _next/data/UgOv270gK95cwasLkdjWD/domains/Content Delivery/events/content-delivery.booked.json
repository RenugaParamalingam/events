{"pageProps":{"event":{"name":"content-delivery.booked","version":1,"summary":"Event represents the content booking is successfully made.\n","domain":"Content Delivery","producerNames":["Monarch"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"producers":[{"name":"Monarch","summary":"Orchestrator for the content delivery.\n","domain":"Content Delivery","owners":[],"repository":{"language":"NodeJS","url":"https://github.com/RealImage/monarch"},"tags":[],"externalLinks":[],"badges":[],"publishes":[{"name":"content-delivery.booked","version":1,"summary":"Event represents the content booking is successfully made.\n","domain":"Content Delivery","producerNames":["Monarch"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.cancelled","version":1,"summary":"Event represents the conetent booking is cancelled.\n","domain":"Content Delivery","producerNames":["Monarch"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]}],"subscribes":[]}],"consumers":[{"name":"QW events","summary":"Application holding the events produced by QubeWire services.\n","domain":"Content Delivery","owners":[],"repository":{"language":"Go","url":"https://github.com/RealImage/qw-delivery-dashboard"},"tags":[],"externalLinks":[],"badges":[],"publishes":[],"subscribes":[{"name":"content-delivery.accepted","version":1,"summary":"Event represents the content delivery is accepted and initiated.\n","domain":"Content Delivery","producerNames":["Inbox","Partners"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.booked","version":1,"summary":"Event represents the content booking is successfully made.\n","domain":"Content Delivery","producerNames":["Monarch"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.cancelled","version":1,"summary":"Event represents the conetent booking is cancelled.\n","domain":"Content Delivery","producerNames":["Monarch"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.finished","version":1,"summary":"Event represents the content delivery is complete.\n","domain":"Content Delivery","producerNames":["Inbox","Partners"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.planned","version":1,"summary":"Event represents the delivery method is chosen and ready to be processed.\n","domain":"Content Delivery","producerNames":["Dispatcher"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.rejected","version":1,"summary":"Event represents the delivery system currently assigned is unable to deliver the content.\n","domain":"Content Delivery","producerNames":["Inbox","Partners"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]}]}],"historicVersions":[],"schema":{"snippet":"{\n    \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n    \"$id\": \"https://github.com/RealImage/qw-events-catalog/domains/Content%20Delivery/events/content-delivery.booked/schema.json\",\n    \"title\": \"Booking content\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"eventId\": {\n            \"description\": \"Unique identifier to identify the booked event\",\n            \"type\": \"string\",\n            \"format\": \"uuid\"\n        },\n        \"eventVersion\": {\n            \"description\": \"Version of the event\",\n            \"type\": \"number\"\n        },\n        \"dataSchema\": {\n            \"description\": \"Schema that data adheres to\",\n            \"type\": \"string\",\n            \"format\": \"uri\"\n        },\n        \"bookingRef\": {\n            \"description\": \"Booking reference number\",\n            \"type\": \"string\"\n        },\n        \"theatreId\": {\n            \"description\": \"Unique identifier of the theatre\",\n            \"type\": \"string\",\n            \"format\": \"uuid\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"cplIds\": {\n                    \"description\": \"Unique identifier of the CPL\",\n                    \"type\": \"array\",\n                    \"items\": [\n                        {\n                            \"type\": \"string\",\n                            \"format\": \"uuid\"\n                        }\n                    ]\n                },\n                \"dcpIds\": {\n                    \"description\": \"Unique identifier of the DCP\",\n                    \"type\": \"array\",\n                    \"items\": [\n                        {\n                            \"type\": \"string\",\n                            \"format\": \"uuid\"\n                        }\n                    ]\n                },\n                \"pklIds\": {\n                    \"description\": \"Unique identifier of the PKL\",\n                    \"type\": \"array\",\n                    \"items\": [\n                        {\n                            \"type\": \"string\",\n                            \"format\": \"uuid\"\n                        }\n                    ]\n                }\n            },\n            \"required\": [\n                \"cplIds\",\n                \"dcpIds\"\n            ]\n        },\n        \"orgId\": {\n            \"description\": \"Organization identifier\",\n            \"type\": \"string\",\n            \"format\": \"uuid\"\n        },\n        \"deliveryDeadline\": {\n            \"description\": \"Deadline to deliver the content\",\n            \"type\": \"string\",\n            \"format\": \"date-time\"\n        },\n        \"bookingCreationTime\": {\n            \"description\": \"Time of booking creation\",\n            \"type\": \"string\",\n            \"format\": \"date-time\"\n        }\n    },\n    \"required\": [\n        \"eventId\",\n        \"eventVersion\",\n        \"dataSchema\",\n        \"bookingRef\",\n        \"theatreId\",\n        \"content\",\n        \"orgId\",\n        \"bookingCreationTime\",\n        \"deliveryDeadline\"\n    ]\n}","language":"json","extension":"json"},"examples":[{"name":"example.json","snippet":"{\n    \"eventId\": \"0184dc26-2818-f1e2-8456-7ae95db29943\",\n    \"dataSchema\": \"https://github.com/RealImage/qw-events-catalog/blob/main/domains/Content%20Delivery/events/content-delivery.booked/schema.json\",\n    \"eventVersion\": 1.0,\n    \"bookingRef\": \"0ff847b3\",\n    \"theatreId\": \"c3fa7688-8d1c-4a3b-bd8e-2317a1763753\",\n    \"content\": {\n        \"cplIds\": [\n            \"6d6b9f6b-7a97-4fa8-804a-5ed510bcc848\"\n        ],\n        \"dcpIds\": [\n            \"368325cd-e4a0-4402-993a-dea6ea35366d\"\n        ]\n    },\n    \"orgId\": \"27098bd3-68b1-4cb9-85bf-fefc6755190d\",\n    \"deliveryDeadline\": \"2023-01-10T07:59:59+00:00\",\n    \"bookingCreationTime\": \"2023-01-03T07:15:03+00:00\"\n}","langugage":"json"}]},"eventPath":"/domains/Content Delivery/events/content-delivery.booked","breadCrumbs":[{"name":"Domain","href":"/domains","current":false},{"name":"Content Delivery","href":"/domains/Content Delivery","current":false},{"name":"Events","href":"/events?domain=Content Delivery","current":false},{"name":"content-delivery.booked","href":"/domains/Content Delivery/events/content-delivery.booked","current":true}],"markdown":{"content":"\n\n## Details\n\nA customer places a content booking with the following information:\n- Set of DCPs or content\n- Theatre to deliver the content\n- Deadline for delivering the content \n\nOnce customer places a content booking, [Monarch](/domains/Content%20Delivery/services/Monarch/) publishes `content-delivery.booked` event.\n\n<NodeGraph title=\"Producer / Consumer Diagram\" />\n\n<Schema title=\"Event Schema\" />\n\n<SchemaViewer title=\"Event properties\" defaultExpandedDepth='0' renderRootTreeLines maxHeight=\"500\" />\n\n\n## How to generate ID for content-delivery.booked event:\n\nTo learn how to produce event id, see [event id generation](https://github.com/RealImage/qw-events-catalog/blob/main/docs/event-id.md).\n\nTo generate ULID for the event, use the following components\n\n**Timestamp** - Delivery Deadline\n\n**Randomness** - Booking reference, Theatre ID, Content (CPL IDs, DCP IDs, PKL IDs), Organisation ID, Booking Creation Time\n\n(Note: The purpose of the Booking Reference introduced to the Randomness component is to treat identical deliveries made by various booking engines as distinct.)\n\n\n<Admonition> \nThe randomness component should be concatenated without any connectors and sorted in ascending order.\n\nOrdering is for idempotency. Change in the position of value, will result into different ULIDs inspite of same values. \n</Admonition>\n\n### Example:\n\nSay _Booking reference is `b1`, _Theatre ID_ is `t2`, _CPL ID_ is `c1`\n\nThen _Randomness_ will be, `112bct`\n\n<EventExamples title=\"Sample event\" />","source":{"compiledSource":"var l=Object.defineProperty,c=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var a=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var s=(e,n,o)=>n in e?l(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,i=(e,n)=>{for(var o in n||(n={}))r.call(n,o)&&s(e,o,n[o]);if(a)for(var o of a(n))p.call(n,o)&&s(e,o,n[o]);return e},m=(e,n)=>c(e,h(n));var d=(e,n)=>{var o={};for(var t in e)r.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&a)for(var t of a(e))n.indexOf(t)<0&&p.call(e,t)&&(o[t]=e[t]);return o};const makeShortcode=e=>function(o){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",i({},o))},NodeGraph=makeShortcode(\"NodeGraph\"),Schema=makeShortcode(\"Schema\"),SchemaViewer=makeShortcode(\"SchemaViewer\"),Admonition=makeShortcode(\"Admonition\"),EventExamples=makeShortcode(\"EventExamples\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(o){var t=o,{components:e}=t,n=d(t,[\"components\"]);return mdx(MDXLayout,m(i(i({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Details\"),mdx(\"p\",null,\"A customer places a content booking with the following information:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Set of DCPs or content\"),mdx(\"li\",{parentName:\"ul\"},\"Theatre to deliver the content\"),mdx(\"li\",{parentName:\"ul\"},\"Deadline for delivering the content \")),mdx(\"p\",null,\"Once customer places a content booking, \",mdx(\"a\",i({parentName:\"p\"},{href:\"/domains/Content%20Delivery/services/Monarch/\"}),\"Monarch\"),\" publishes \",mdx(\"inlineCode\",{parentName:\"p\"},\"content-delivery.booked\"),\" event.\"),mdx(NodeGraph,{title:\"Producer / Consumer Diagram\",mdxType:\"NodeGraph\"}),mdx(Schema,{title:\"Event Schema\",mdxType:\"Schema\"}),mdx(SchemaViewer,{title:\"Event properties\",defaultExpandedDepth:\"0\",renderRootTreeLines:!0,maxHeight:\"500\",mdxType:\"SchemaViewer\"}),mdx(\"h2\",null,\"How to generate ID for content-delivery.booked event:\"),mdx(\"p\",null,\"To learn how to produce event id, see \",mdx(\"a\",i({parentName:\"p\"},{href:\"https://github.com/RealImage/qw-events-catalog/blob/main/docs/event-id.md\"}),\"event id generation\"),\".\"),mdx(\"p\",null,\"To generate ULID for the event, use the following components\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Timestamp\"),\" - Delivery Deadline\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Randomness\"),\" - Booking reference, Theatre ID, Content (CPL IDs, DCP IDs, PKL IDs), Organisation ID, Booking Creation Time\"),mdx(\"p\",null,\"(Note: The purpose of the Booking Reference introduced to the Randomness component is to treat identical deliveries made by various booking engines as distinct.)\"),mdx(Admonition,{mdxType:\"Admonition\"},\"The randomness component should be concatenated without any connectors and sorted in ascending order.\",mdx(\"p\",null,\"Ordering is for idempotency. Change in the position of value, will result into different ULIDs inspite of same values. \")),mdx(\"h3\",null,\"Example:\"),mdx(\"p\",null,\"Say \",mdx(\"em\",{parentName:\"p\"},\"Booking reference is \",mdx(\"inlineCode\",{parentName:\"em\"},\"b1\"),\", _Theatre ID\"),\" is \",mdx(\"inlineCode\",{parentName:\"p\"},\"t2\"),\", \",mdx(\"em\",{parentName:\"p\"},\"CPL ID\"),\" is \",mdx(\"inlineCode\",{parentName:\"p\"},\"c1\")),mdx(\"p\",null,\"Then \",mdx(\"em\",{parentName:\"p\"},\"Randomness\"),\" will be, \",mdx(\"inlineCode\",{parentName:\"p\"},\"112bct\")),mdx(EventExamples,{title:\"Sample event\",mdxType:\"EventExamples\"}))}MDXContent.isMDXComponent=!0;\n","scope":{}},"lastModifiedDate":"2023/3/3"},"loadedVersion":"latest"},"__N_SSG":true}