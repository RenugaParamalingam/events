{"pageProps":{"event":{"name":"content-delivery.planned","version":1,"summary":"Event represents the delivery method is chosen and ready to be processed.\n","domain":"Content Delivery","producerNames":["Dispatcher"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"producers":[{"name":"Dispatcher","summary":"Content delivery planner.\n","domain":"Content Delivery","owners":[],"repository":{"language":"Java","url":"https://github.com/RealImage/qw-content-switchboard"},"tags":[],"externalLinks":[],"badges":[],"publishes":[{"name":"content-delivery.planned","version":1,"summary":"Event represents the delivery method is chosen and ready to be processed.\n","domain":"Content Delivery","producerNames":["Dispatcher"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]}],"subscribes":[]}],"consumers":[{"name":"QW events","summary":"Application holding the events produced by QubeWire services.\n","domain":"Content Delivery","owners":[],"repository":{"language":"Go","url":"https://github.com/RealImage/qw-delivery-dashboard"},"tags":[],"externalLinks":[],"badges":[],"publishes":[],"subscribes":[{"name":"content-delivery.accepted","version":1,"summary":"Event represents the content delivery is accepted and initiated.\n","domain":"Content Delivery","producerNames":["Inbox","Partners"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.booked","version":1,"summary":"Event represents the content booking is successfully made.\n","domain":"Content Delivery","producerNames":["Monarch"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.cancelled","version":1,"summary":"Event represents the conetent booking is cancelled.\n","domain":"Content Delivery","producerNames":["Monarch"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.finished","version":1,"summary":"Event represents the content delivery is complete.\n","domain":"Content Delivery","producerNames":["Inbox","Partners"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.planned","version":1,"summary":"Event represents the delivery method is chosen and ready to be processed.\n","domain":"Content Delivery","producerNames":["Dispatcher"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]},{"name":"content-delivery.rejected","version":1,"summary":"Event represents the delivery system currently assigned is unable to deliver the content.\n","domain":"Content Delivery","producerNames":["Inbox","Partners"],"consumerNames":["QW events"],"owners":[],"externalLinks":[],"badges":[],"tags":[],"historicVersions":[]}]}],"historicVersions":[],"schema":{"snippet":"{\n    \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n    \"$id\": \"https://github.com/RealImage/qw-events-catalog/domains/Content%20Delivery/events/content-delivery.planned/schema.json\",\n    \"title\": \"Planning content delivery\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"eventId\": {\n            \"description\": \"Unique identifier to identify the planned event\",\n            \"type\": \"string\",\n            \"format\": \"uuid\"\n        },\n        \"eventVersion\": {\n            \"description\": \"Version of the event\",\n            \"type\": \"number\"\n        },\n        \"dataSchema\": {\n            \"description\": \"Schema that data adheres to\",\n            \"type\": \"string\",\n            \"format\": \"uri\"\n        },\n        \"bookedEventId\": {\n            \"description\": \"Unique identifier of the booked event (parent)\",\n            \"type\": \"string\",\n            \"format\": \"uuid\"\n        },\n        \"deliveryMode\": {\n            \"description\": \"Mode of delivery\",\n            \"type\": \"string\",\n            \"enum\": [\n                \"ELECTRONIC\",\n                \"PARTNERS\",\n                \"THEATRE_APPLIANCE\"\n            ]\n        },\n        \"deliveryInstruction\": {\n            \"allOf\": [\n                {\n                    \"if\": {\n                        \"properties\": {\n                            \"deliveryMode\": {\n                                \"const\": \"ELECTRONIC\"\n                            }\n                        }\n                    },\n                    \"then\": {\n                        \"properties\": {\n                            \"deliveryInstruction\": {\n                                \"$ref\": \"#/$defs/electronic\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"if\": {\n                        \"properties\": {\n                            \"deliveryMode\": {\n                                \"const\": \"PARTNERS\"\n                            }\n                        }\n                    },\n                    \"then\": {\n                        \"properties\": {\n                            \"deliveryInstruction\": {\n                                \"$ref\": \"#/$defs/partner\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"if\": {\n                        \"properties\": {\n                            \"deliveryMode\": {\n                                \"const\": \"THEATRE_APPLIANCE\"\n                            }\n                        }\n                    },\n                    \"then\": {\n                        \"properties\": {\n                            \"deliveryInstruction\": {\n                                \"$ref\": \"#/$defs/tap\"\n                            }\n                        }\n                    }\n                }\n            ]\n        }\n    },\n    \"required\": [\n        \"eventId\",\n        \"eventVersion\",\n        \"dataSchema\",\n        \"bookedEventId\",\n        \"deliveryMode\",\n        \"deliveryInstruction\"\n    ],\n    \"$defs\": {\n        \"tap\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"dispatchDeadline\": {\n                    \"description\": \"Deadline for the delivery systems to start the delivery\",\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\n                },\n                \"applianceId\": {\n                    \"description\": \"Unique identifier of the appliance\",\n                    \"type\": \"string\",\n                    \"format\": \"uuid\"\n                }\n            },\n            \"required\": [\n                \"dispatchDeadline\",\n                \"applianceId\"\n            ]\n        },\n        \"partner\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"dispatchDeadline\": {\n                    \"description\": \"Deadline for the delivery systems to start the delivery\",\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\n                },\n                \"partnerId\": {\n                    \"description\": \"Unique identifier of the partner\",\n                    \"type\": \"string\",\n                    \"format\": \"uuid\"\n                },\n                \"methodId\": {\n                    \"description\": \"Unique identifier of the method in Partner delivery\",\n                    \"type\": \"integer\"\n                },\n                \"driveType\": {\n                    \"description\": \"Drive type\",\n                    \"type\": \"string\"\n                }\n            },\n            \"required\": [\n                \"dispatchDeadline\",\n                \"partnerId\",\n                \"methodId\",\n                \"driveType\"\n            ]\n        },\n        \"electronic\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"dispatchDeadline\": {\n                    \"description\": \"Deadline for the delivery systems to start the delivery\",\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\n                },\n                \"partnerId\": {\n                    \"description\": \"Unique identifier of the partner\",\n                    \"type\": \"string\",\n                    \"format\": \"uuid\"\n                },\n                \"methodId\": {\n                    \"description\": \"Unique identifier of the method in Partner delivery\",\n                    \"type\": \"integer\"\n                }\n            },\n            \"required\": [\n                \"dispatchDeadline\",\n                \"partnerId\",\n                \"methodId\"\n            ]\n        }\n    }\n}","language":"json","extension":"json"},"examples":[{"name":"electronic.json","snippet":"{\n    \"eventId\": \"0184dc26-2818-f1e2-8456-7ae95db29943\",\n    \"dataSchema\": \"https://github.com/RealImage/qw-events-catalog/blob/main/domains/Content%20Delivery/events/content-delivery.planned/schema.json\",\n    \"eventVersion\": 1.0,\n    \"bookedEventId\": \"0184dc26-2818-f1e2-8456-7ae95db29943\",\n    \"deliveryMode\": \"ELECTRONIC\",\n    \"deliveryInstruction\": {\n        \"dispatchDeadline\": \"2023-01-10T01:59:59+00:00\",\n        \"partnerId\": \"5c3a2561-7137-4957-b3e5-23c5600bb66c\",\n        \"methodId\": 146\n    }\n}","langugage":"json"},{"name":"partner.json","snippet":"{\n    \"eventId\": \"0184dc26-2818-f1e2-8456-7ae95db29943\",\n    \"dataSchema\":\"https://github.com/RealImage/qw-events-catalog/blob/main/domains/Content%20Delivery/events/content-delivery.planned/schema.json\",\n    \"eventVersion\": 1.0,\n    \"bookedEventId\": \"0184dc26-2818-f1e2-8456-7ae95db29943\",\n    \"deliveryMode\": \"PARTNERS\",\n    \"deliveryInstruction\": {\n        \"dispatchDeadline\": \"2023-01-10T01:59:59+00:00\",\n        \"partnerId\": \"038fca29-7c5a-4140-9112-7e94219133ed\",\n        \"methodId\": 847,\n        \"driveType\": \"CRU\"\n    }\n}","langugage":"json"},{"name":"theatre_appliance.json","snippet":"{\n    \"eventId\": \"0184dc26-2818-a3a3-01a3-5e88654a4fff\",\n    \"dataSchema\": \"https://github.com/RealImage/qw-events-catalog/blob/main/domains/Content%20Delivery/events/content-delivery.planned/schema.json\",\n    \"eventVersion\": 1.0,\n    \"bookedEventId\": \"0184dc26-2818-f1e2-8456-7ae95db29943\",\n    \"deliveryMode\": \"THEATRE_APPLIANCE\",\n    \"deliveryInstruction\": {\n        \"dispatchDeadline\": \"2023-01-09T07:59:59+00:00\",\n        \"applianceId\": \"e4e7bee7-df0c-46e1-a2af-f211fe8dbd2c\"\n    }\n}","langugage":"json"}]},"eventPath":"/domains/Content Delivery/events/content-delivery.planned","breadCrumbs":[{"name":"Domain","href":"/domains","current":false},{"name":"Content Delivery","href":"/domains/Content Delivery","current":false},{"name":"Events","href":"/events?domain=Content Delivery","current":false},{"name":"content-delivery.planned","href":"/domains/Content Delivery/events/content-delivery.planned","current":true}],"markdown":{"content":"\n## Details\n\nOnce customer placed a booking, the [Dispatcher](/domains/Content%20Delivery/services/Dispatcher/) figures out the best possible way to deliver the content and publishes `content-delivery.planned` event.\n\n<NodeGraph title=\"Producer / Consumer Diagram\" />\n\n<Schema title=\"Event Schema\" />\n\n<SchemaViewer title=\"Event properties\" defaultExpandedDepth='0' renderRootTreeLines maxHeight=\"500\" />\n\n\n## How to generate ID for content-delivery.planned event:\n\nTo learn how to produce event id, see [event id generation](https://github.com/RealImage/qw-events-catalog/blob/main/docs/event-id.md).\n\nTo generate ULID for the event, use the following components\n\n**Timestamp** - Delivery Deadline\n\n**Randomness** - ID of the parent (`content-delivery.booked` event), Delivery mode, Delivery Instructions\n\n<Admonition> \nThe randomness component should be concatenated without any connectors and sorted in ascending order.\n\nOrdering is for idempotency. Change in the position of value, will result into different ULIDs inspite of same values. \n</Admonition>\n\n### Example:\nSay ID of _content-delivery.booked_ event is `be1` and _Delivery mode_ is `d2`\n\nThen _Randomness_ will be, `12bde`\n\n<EventExamples title=\"Sample event\" />","source":{"compiledSource":"var l=Object.defineProperty,c=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var d=(e,n,t)=>n in e?l(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,a=(e,n)=>{for(var t in n||(n={}))p.call(n,t)&&d(e,t,n[t]);if(i)for(var t of i(n))r.call(n,t)&&d(e,t,n[t]);return e},s=(e,n)=>c(e,h(n));var m=(e,n)=>{var t={};for(var o in e)p.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&i)for(var o of i(e))n.indexOf(o)<0&&r.call(e,o)&&(t[o]=e[o]);return t};const makeShortcode=e=>function(t){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",a({},t))},NodeGraph=makeShortcode(\"NodeGraph\"),Schema=makeShortcode(\"Schema\"),SchemaViewer=makeShortcode(\"SchemaViewer\"),Admonition=makeShortcode(\"Admonition\"),EventExamples=makeShortcode(\"EventExamples\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var o=t,{components:e}=o,n=m(o,[\"components\"]);return mdx(MDXLayout,s(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Details\"),mdx(\"p\",null,\"Once customer placed a booking, the \",mdx(\"a\",a({parentName:\"p\"},{href:\"/domains/Content%20Delivery/services/Dispatcher/\"}),\"Dispatcher\"),\" figures out the best possible way to deliver the content and publishes \",mdx(\"inlineCode\",{parentName:\"p\"},\"content-delivery.planned\"),\" event.\"),mdx(NodeGraph,{title:\"Producer / Consumer Diagram\",mdxType:\"NodeGraph\"}),mdx(Schema,{title:\"Event Schema\",mdxType:\"Schema\"}),mdx(SchemaViewer,{title:\"Event properties\",defaultExpandedDepth:\"0\",renderRootTreeLines:!0,maxHeight:\"500\",mdxType:\"SchemaViewer\"}),mdx(\"h2\",null,\"How to generate ID for content-delivery.planned event:\"),mdx(\"p\",null,\"To learn how to produce event id, see \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/RealImage/qw-events-catalog/blob/main/docs/event-id.md\"}),\"event id generation\"),\".\"),mdx(\"p\",null,\"To generate ULID for the event, use the following components\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Timestamp\"),\" - Delivery Deadline\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Randomness\"),\" - ID of the parent (\",mdx(\"inlineCode\",{parentName:\"p\"},\"content-delivery.booked\"),\" event), Delivery mode, Delivery Instructions\"),mdx(Admonition,{mdxType:\"Admonition\"},\"The randomness component should be concatenated without any connectors and sorted in ascending order.\",mdx(\"p\",null,\"Ordering is for idempotency. Change in the position of value, will result into different ULIDs inspite of same values. \")),mdx(\"h3\",null,\"Example:\"),mdx(\"p\",null,\"Say ID of \",mdx(\"em\",{parentName:\"p\"},\"content-delivery.booked\"),\" event is \",mdx(\"inlineCode\",{parentName:\"p\"},\"be1\"),\" and \",mdx(\"em\",{parentName:\"p\"},\"Delivery mode\"),\" is \",mdx(\"inlineCode\",{parentName:\"p\"},\"d2\")),mdx(\"p\",null,\"Then \",mdx(\"em\",{parentName:\"p\"},\"Randomness\"),\" will be, \",mdx(\"inlineCode\",{parentName:\"p\"},\"12bde\")),mdx(EventExamples,{title:\"Sample event\",mdxType:\"EventExamples\"}))}MDXContent.isMDXComponent=!0;\n","scope":{}},"lastModifiedDate":"2023/3/3"},"loadedVersion":"latest"},"__N_SSG":true}